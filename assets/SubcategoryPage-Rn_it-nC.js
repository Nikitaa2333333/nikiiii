import{c as f,d as p,e as b,u as y,f as j,r as n,S as v,g as N,j as e,F as w}from"./index-C5ti0D28.js";import{B as S}from"./Breadcrumbs-CpPzeIx6.js";import"./chevron-right-tI68z4zs.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],P=f("message-square",k),D=()=>{const{categoryId:C,subcategoryId:t}=p();b();const{getProductsBySubcategory:i,loading:g}=y(),{openModal:h,openPDFModal:u}=j(),[c,B]=n.useState("name"),[l,d]=n.useState(24),x=v.find(s=>s.id===t),r=n.useMemo(()=>{if(!t)return[];const s=i(t);return c==="name"?[...s].sort((a,o)=>a.name.localeCompare(o.name)):[...s].sort((a,o)=>a.inStock===o.inStock?0:a.inStock?-1:1)},[t,c,i]),m=r.slice(0,l);return N.useEffect(()=>{d(24),window.scrollTo(0,0)},[t]),g?e.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-400 font-bold animate-pulse",children:"Загрузка..."}):x?e.jsxs("div",{className:"max-w-[1920px] mx-auto px-4 sm:px-6 lg:px-12 py-8",children:[e.jsx(S,{}),e.jsx("div",{className:"mt-4 md:mt-8",children:e.jsxs("main",{className:"flex-1 min-w-0 pb-20",children:[e.jsx("div",{className:"mb-8 md:mb-12",children:e.jsx("h1",{className:"text-3xl md:text-5xl font-black text-gray-900 leading-tight",children:x.name})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:m.length>0?m.map(s=>e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 overflow-hidden hover:border-blue-400 hover:shadow-xl transition-all duration-300 flex flex-col h-full group max-w-sm",children:[e.jsx("div",{className:"aspect-square bg-white relative p-4 flex items-center justify-center border-b border-gray-50 overflow-hidden",children:e.jsx("img",{src:s.images&&s.images.length>0?s.images[0]:`https://placehold.co/600x600/f1f5f9/94a3b8?text=${encodeURIComponent(s.name)}`,alt:s.name,className:"w-full h-full object-contain mix-blend-multiply transition-transform duration-500 group-hover:scale-105",loading:"lazy"})}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-1 line-clamp-2 group-hover:text-blue-600 transition-colors leading-snug",children:s.name}),e.jsxs("div",{className:"mt-auto pt-3 flex flex-col gap-2",children:[s.pdfUrl&&e.jsxs("button",{onClick:a=>{a.stopPropagation(),u(s.pdfUrl)},className:"w-full bg-gray-900 text-white px-4 py-2.5 rounded-xl text-xs font-semibold hover:bg-black transition-all duration-200 flex items-center justify-center gap-2 shadow-sm hover:shadow-md active:scale-95",children:[e.jsx(w,{className:"w-4 h-4"}),e.jsx("span",{children:"Открыть PDF"})]}),e.jsxs("button",{onClick:a=>{a.preventDefault(),a.stopPropagation(),h(s.name)},className:"w-full bg-white text-gray-700 border border-gray-200 px-4 py-2.5 rounded-xl text-xs font-semibold hover:bg-gray-50 hover:border-gray-300 transition-all duration-200 flex items-center justify-center gap-2 shadow-sm active:scale-95",children:[e.jsx(P,{className:"w-4 h-4 text-cyan-500"}),e.jsx("span",{children:"Запросить КП"})]})]})]})]},s.id)):e.jsxs("div",{className:"col-span-full py-20 text-center bg-white rounded-3xl border border-dashed border-gray-200",children:[e.jsx("p",{className:"text-gray-300 text-6xl mb-4 font-black opacity-20",children:"¯\\_(ツ)_/¯"}),e.jsx("p",{className:"text-gray-900 font-bold mb-1",children:"В этой категории пока пусто"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Попробуйте выбрать другую категорию"})]})}),l<r.length&&e.jsx("div",{className:"mt-16 flex justify-center",children:e.jsxs("button",{onClick:()=>d(s=>s+24),className:"group relative bg-gray-900 text-white font-bold text-sm px-10 py-4 rounded-xl hover:shadow-lg transition-all overflow-hidden",children:[e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:["Показать еще (",r.length-l,")"]}),e.jsx("div",{className:"absolute inset-0 bg-gray-800 transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300"})]})})]})})]}):e.jsx("div",{className:"p-20 text-center",children:"Категория не найдена"})};export{D as default};
