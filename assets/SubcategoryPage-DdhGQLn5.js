import{c as u,b,d as f,u as y,e as j,r as o,S as v,f as N,j as e,g as w}from"./index-bqiXBP5W.js";import{B as S}from"./Breadcrumbs-BsIKtgzm.js";import"./chevron-right-D_x35EDk.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],P=u("message-square",k),D=()=>{const{categoryId:C,subcategoryId:t}=b();f();const{getProductsBySubcategory:i,loading:g}=y(),{openModal:h,openPDFModal:p}=j(),[c,B]=o.useState("name"),[r,d]=o.useState(24),x=v.find(s=>s.id===t),n=o.useMemo(()=>{if(!t)return[];const s=i(t);return c==="name"?[...s].sort((a,l)=>a.name.localeCompare(l.name)):[...s].sort((a,l)=>a.inStock===l.inStock?0:a.inStock?-1:1)},[t,c,i]),m=n.slice(0,r);return N.useEffect(()=>{d(24),window.scrollTo(0,0)},[t]),g?e.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-400 font-bold animate-pulse",children:"Загрузка..."}):x?e.jsxs("div",{className:"max-w-[1920px] mx-auto px-4 sm:px-6 lg:px-12 py-8",children:[e.jsx(S,{}),e.jsx("div",{className:"mt-4 md:mt-8",children:e.jsxs("main",{className:"flex-1 min-w-0 pb-20",children:[e.jsx("div",{className:"mb-8 md:mb-12",children:e.jsx("h1",{className:"text-3xl md:text-5xl font-black text-gray-900 leading-tight",children:x.name})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:m.length>0?m.map(s=>e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 overflow-hidden hover:border-blue-400 transition-colors duration-200 flex flex-col h-full group",children:[e.jsx("div",{className:"aspect-[1.1] bg-white relative p-6 flex items-center justify-center border-b border-gray-50",children:e.jsx("img",{src:s.images&&s.images.length>0?s.images[0]:`https://placehold.co/600x600/f1f5f9/94a3b8?text=${encodeURIComponent(s.name)}`,alt:s.name,className:"max-width-full max-height-full object-contain mix-blend-multiply",loading:"lazy"})}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-1 line-clamp-2 group-hover:text-blue-600 transition-colors leading-snug",children:s.name}),e.jsx("div",{className:"flex flex-col gap-2 mb-6",children:s.description.split(",").map((a,l)=>e.jsxs("div",{className:"flex items-start gap-2 text-xs text-gray-700 leading-tight",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full flex-shrink-0 mt-1.5"}),e.jsx("span",{children:a.trim()})]},l))}),e.jsxs("div",{className:"mt-auto pt-3 flex items-center gap-2 justify-start",children:[e.jsxs("button",{onClick:a=>{a.stopPropagation(),p("/brochure.pdf")},className:"bg-gray-900 text-white px-4 py-2.5 rounded-xl text-[11px] font-semibold hover:bg-black transition-all duration-200 flex items-center gap-2 shadow-sm hover:shadow-md active:scale-95 whitespace-nowrap",children:[e.jsx(w,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Открыть PDF"})]}),e.jsxs("button",{onClick:a=>{a.preventDefault(),a.stopPropagation(),h(s.name)},className:"bg-white text-gray-700 border border-gray-200 px-4 py-2.5 rounded-xl text-[11px] font-semibold hover:bg-gray-50 hover:border-gray-300 transition-all duration-200 flex items-center gap-2 shadow-sm active:scale-95 whitespace-nowrap",children:[e.jsx(P,{className:"w-3.5 h-3.5 text-blue-500"}),e.jsx("span",{children:"Запросить предложение"})]})]})]})]},s.id)):e.jsxs("div",{className:"col-span-full py-20 text-center bg-white rounded-3xl border border-dashed border-gray-200",children:[e.jsx("p",{className:"text-gray-300 text-6xl mb-4 font-black opacity-20",children:"¯\\_(ツ)_/¯"}),e.jsx("p",{className:"text-gray-900 font-bold mb-1",children:"В этой категории пока пусто"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Попробуйте выбрать другую категорию"})]})}),r<n.length&&e.jsx("div",{className:"mt-16 flex justify-center",children:e.jsxs("button",{onClick:()=>d(s=>s+24),className:"group relative bg-gray-900 text-white font-bold text-sm px-10 py-4 rounded-xl hover:shadow-lg transition-all overflow-hidden",children:[e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:["Показать еще (",n.length-r,")"]}),e.jsx("div",{className:"absolute inset-0 bg-gray-800 transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300"})]})})]})})]}):e.jsx("div",{className:"p-20 text-center",children:"Категория не найдена"})};export{D as default};
